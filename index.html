<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ç å¿ƒç®—å­¸é™¢ - äº’å‹•å¼ç å¿ƒç®—å­¸ç¿’å¹³å°ï¼Œæä¾›é–ƒé›»å¿ƒç®—ã€äº’å‹•ç®—ç›¤ã€å­¸ç¿’å–®åˆ—å°ç­‰åŠŸèƒ½">
    <meta name="keywords" content="ç å¿ƒç®—,å¿ƒç®—,ç®—ç›¤,æ•¸å­¸,æ•™è‚²,å…’ç«¥å­¸ç¿’">
    <meta name="author" content="Abacus Academy">

    <!-- PWA Support -->
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <title>ç å¿ƒç®—å­¸é™¢ | Abacus Academy</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;700&family=Noto+Sans+TC:wght@400;500;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Favicon -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ§®</text></svg>">
</head>

<body>
    <!-- App Root -->
    <div id="app-root">
        <!-- Loading State -->
        <div class="loading-screen" id="loading-screen">
            <div class="loading-content">
                <div class="loading-icon">ğŸ§®</div>
                <h1>ç å¿ƒç®—å­¸é™¢</h1>
                <p>è¼‰å…¥ä¸­...</p>
                <div class="loading-bar">
                    <div class="loading-progress"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Screen Styles (Inline for fast loading) -->
    <style>
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loading-content {
            text-align: center;
            color: #f1f5f9;
        }

        .loading-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: bounce 1s ease infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .loading-content h1 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #818cf8, #10b981);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .loading-content p {
            color: #94a3b8;
            margin-bottom: 1.5rem;
        }

        .loading-bar {
            width: 200px;
            height: 4px;
            background: #334155;
            border-radius: 2px;
            overflow: hidden;
            margin: 0 auto;
        }

        .loading-progress {
            height: 100%;
            background: linear-gradient(90deg, #6366f1, #10b981);
            border-radius: 2px;
            animation: loading 1.5s ease-in-out infinite;
        }

        @keyframes loading {
            0% {
                width: 0%;
                margin-left: 0;
            }

            50% {
                width: 70%;
                margin-left: 15%;
            }

            100% {
                width: 0%;
                margin-left: 100%;
            }
        }
    </style>

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Main Application Script -->
    <script type="module">
        import './js/app.js';

        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }

        // Hide loading screen after app is ready
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loadingScreen = document.getElementById('loading-screen');
                if (loadingScreen) {
                    loadingScreen.classList.add('hidden');
                    setTimeout(() => loadingScreen.remove(), 500);
                }
            }, 800);
        });
    </script>

    <!-- Fallback for browsers without ES Module support -->
    <script nomodule>
        document.body.innerHTML = `
            <div style="padding: 2rem; text-align: center; font-family: sans-serif;">
                <h1>âš ï¸ ç€è¦½å™¨ä¸æ”¯æ´</h1>
                <p>è«‹ä½¿ç”¨æœ€æ–°ç‰ˆçš„ Chromeã€Firefoxã€Safari æˆ– Edge ç€è¦½å™¨ã€‚</p>
            </div>
        `;
    </script>
</body>

</html>